# Time流水账 - 微信小程序项目说明

## 一、项目概述

**Time流水账**是一款基于微信小程序开发的个人工作与生活记录工具，旨在帮助用户记录日常任务、管理待办事项、总结每日计划与反思，并通过数据统计分析提升时间管理效率。

### 产品定位
- **目标用户**：需要记录工作与生活时间、管理任务、进行自我反思的个人用户
- **核心价值**：简单易用的时间记录工具，帮助用户了解时间分配，提升时间管理能力
- **产品特色**：精准计时、多维度统计、双主题切换、数据导入导出

## 二、核心功能

### 2.1 时间线记录（主页）

时间线是应用的核心功能页面，提供任务记录和时间追踪功能：

- **任务管理**
  - 创建任务：支持自定义标题、分类、备注、开始/结束时间
  - 任务状态：待开始、进行中、已暂停、已完成、已取消
  - 精准计时：实时计时功能，支持暂停和恢复，记录多个时间段
  - 任务分类：支持工作、生活、学习等多个分类，每个分类有独立颜色标识
  
- **晨间计划与晚间总结**
  - 晨间计划：记录每日早晨的工作计划与目标
  - 晚间总结：记录每日晚上的工作总结与反思
  - 支持按日期查看、编辑、删除历史记录

- **日历视图**
  - 周视图展示：直观查看一周的任务分布
  - 日期选择：支持快速切换日期查看不同日期的任务
  - 今天标识：清晰标识当前日期

### 2.2 待办任务管理

采用四象限时间管理法，帮助用户按优先级组织任务：

- **四象限分类**
  - 紧急且重要（第一象限）
  - 重要但不紧急（第二象限）
  - 紧急但不重要（第三象限）
  - 不紧急也不重要（第四象限）

- **任务功能**
  - 创建待办：支持设置标题、描述、开始/结束日期、优先级
  - 任务完成：支持标记完成/未完成状态
  - 分类统计：点击任务可查看该分类下的所有时间线任务及累积耗时
  - 自定义分类：新建的待办任务自动成为自定义分类，系统自动分配颜色

### 2.3 数据统计

提供可视化数据统计，帮助用户了解时间分配：

- **分类统计**
  - 圆形图表：展示各分类任务的时间占比
  - 时间统计：显示各分类的总耗时和任务数量
  - 百分比分析：清晰展示时间分配比例

- **统计范围**
  - 按日期筛选：支持查看指定日期的任务统计
  - 已完成任务：仅统计已完成的任务数据

### 2.4 个人中心

提供个人信息管理和数据管理功能：

- **个人信息**
  - 头像设置：支持自定义头像
  - 基本信息：姓名、邮箱设置
  - 数据概览：事件个数、记录天数统计

- **分类管理**
  - 查看分类：显示所有任务分类及颜色
  - 添加分类：支持自定义新增分类
  - 删除分类：支持删除不需要的分类

- **总结管理**
  - 查看记录：按日期查看所有晨间计划和晚间总结
  - 编辑删除：支持修改和删除历史记录
  - 补录功能：支持为任意日期补录计划或总结

- **待办管理**
  - 任务列表：查看所有待办任务
  - 状态筛选：支持按状态筛选任务（全部/未完成/已完成）
  - 编辑删除：支持修改和删除待办任务

- **数据管理**
  - 数据导出：一键导出所有数据（任务、待办、日志、分类）为文本格式
  - 数据导入：支持通过文本格式导入历史数据
  - 重复检测：导入时自动检测并跳过重复数据
  - 精确时间：导出时间精确到秒（HH:mm:ss 格式）

## 三、技术架构

### 3.1 技术栈

- **开发框架**：微信小程序原生框架
- **开发语言**：TypeScript
- **UI组件库**：Vant Weapp
- **构建工具**：微信开发者工具 + TypeScript Compiler
- **数据存储**：微信小程序本地存储（wx.setStorageSync/wx.getStorageSync）

### 3.2 项目结构

```
Time流水账/
├── app.json              # 小程序全局配置
├── app.ts                # 小程序入口文件
├── app.wxss              # 全局样式
├── pages/                # 页面目录
│   ├── timeline/         # 时间线页面（主页）
│   ├── todo/             # 待办任务页面
│   ├── statistics/       # 统计页面
│   ├── profile/          # 个人中心页面
│   ├── task-detail/      # 任务详情页面
│   ├── todo-detail/      # 待办详情页面
│   ├── category-manage/  # 分类管理页面
│   ├── summary-manage/   # 总结管理页面
│   ├── todo-manage/      # 待办管理页面
│   ├── data-manage/      # 数据管理页面
│   └── import-data/      # 数据导入页面
├── components/           # 组件目录
│   ├── calendar/         # 日历组件
│   ├── task-item/        # 任务项组件
│   ├── task-modal/       # 任务编辑弹窗组件
│   ├── log-input/        # 日志输入组件
│   ├── todo-task-item/   # 待办任务项组件
│   └── todo-task-modal/  # 待办任务编辑弹窗组件
├── utils/                # 工具函数
│   ├── date.ts           # 日期时间处理
│   ├── storage.ts        # 本地存储封装
│   ├── category.ts       # 分类管理
│   ├── theme.ts          # 主题管理
│   └── page-theme-mixin.ts # 页面主题混入
└── types/                # TypeScript类型定义
    ├── task.ts           # 任务相关类型
    ├── log.ts            # 日志相关类型
    └── common.ts         # 通用类型
```

### 3.3 核心特性

- **TypeScript支持**：全项目使用TypeScript开发，提供类型安全
- **组件化开发**：采用组件化架构，代码复用率高
- **主题切换**：支持暖色调和冷色调双主题，一键切换
- **数据持久化**：使用微信小程序本地存储，数据安全可靠
- **批量处理**：支持数据导入导出，便于数据迁移和备份

## 四、主要功能说明

### 4.1 任务计时功能

- **实时计时**：任务开始后实时显示累计时长（格式：X时X分X秒）
- **多时段记录**：支持暂停和恢复，自动记录多个时间段并累计计算
- **精确到秒**：时间记录精确到秒级别，导出数据包含秒级时间信息
- **状态管理**：任务状态自动更新（进行中/已暂停/已完成）

### 4.2 主题切换功能

- **双主题设计**：暖色调（默认）和冷色调两种主题风格
- **全局应用**：主题切换影响所有页面和组件
- **状态保持**：主题选择自动保存，下次打开保持上次选择
- **TabBar适配**：底部导航栏颜色随主题自动调整

### 4.3 数据导入导出功能

- **导出格式**：标准文本格式，包含所有任务、待办、日志、分类信息
- **导出内容**：
  - 时间线任务：标题、分类、状态、开始时间、结束时间、时长
  - 待办任务：标题、优先级、状态、日期信息
  - 晨间计划与晚间总结：按日期分组显示
  - 分类信息：分类名称及颜色标识
  
- **导入功能**：
  - 支持批量导入：一次性导入多条记录
  - 智能去重：自动检测重复数据（基于标题、日期、分类、时间段）
  - 错误处理：格式错误的数据自动跳过，不影响其他数据导入
  - 进度显示：实时显示导入进度和结果统计

### 4.4 分类管理系统

- **默认分类**：内置工作、生活、学习等常用分类
- **自定义分类**：用户可自由添加新分类
- **颜色标识**：每个分类自动分配唯一颜色，便于视觉区分
- **分类统计**：支持按分类查看任务统计和累积耗时

### 4.5 四象限待办管理

- **优先级管理**：采用经典的四象限时间管理法
- **视觉区分**：四个象限使用不同颜色和布局，清晰直观
- **任务关联**：待办任务与时间线任务通过分类关联
- **累积统计**：查看待办详情时显示该分类下的所有时间线任务及总耗时

## 五、应用场景

### 5.1 时间记录与追踪
- 记录日常工作时间分配
- 追踪项目执行时间
- 了解个人时间使用习惯

### 5.2 任务管理
- 使用四象限法管理待办事项
- 设置任务优先级
- 跟踪任务完成情况

### 5.3 工作复盘
- 每日晨间计划制定
- 晚间工作总结与反思
- 通过统计数据了解工作效率

### 5.4 数据分析
- 查看时间分配比例
- 分析各分类任务耗时
- 优化时间管理策略

## 六、产品特色

### 6.1 简单易用
- 界面简洁清晰，操作流程简单
- 快速创建任务，一键开始计时
- 支持通过文本导入历史数据

### 6.2 功能完整
- 任务管理、时间记录、数据统计一体化
- 支持多维度数据查看和分析
- 完善的数据管理功能（导入/导出/编辑/删除）

### 6.3 个性化定制
- 支持自定义分类和颜色
- 双主题切换满足不同审美偏好
- 灵活的任务属性设置

### 6.4 数据安全
- 数据本地存储，隐私安全有保障
- 支持数据导出备份
- 支持数据导入恢复

## 七、技术亮点

### 7.1 TypeScript全栈开发
- 完整的类型系统，减少运行时错误
- 提高代码可维护性和可读性
- 更好的IDE智能提示支持

### 7.2 组件化架构
- 高度模块化的组件设计
- 组件复用性强，代码耦合度低
- 便于功能扩展和维护

### 7.3 性能优化
- 分批加载大量数据，避免页面卡顿
- 异步计算统计数据，不阻塞UI
- 智能缓存机制，提升响应速度

### 7.4 用户体验优化
- 流畅的动画过渡效果
- 实时反馈用户操作
- 清晰的加载和错误提示

## 八、开发规范

### 8.1 代码规范
- 遵循微信小程序开发规范
- 使用TypeScript进行类型约束
- 统一的代码格式和命名规范

### 8.2 数据规范
- 统一的数据结构和存储格式
- 完善的错误处理机制
- 数据兼容性处理

### 8.3 UI规范
- 统一的视觉设计风格
- 响应式布局适配不同屏幕
- 无障碍访问支持

## 九、未来规划

### 9.1 功能扩展
- 支持云同步功能
- 增加数据可视化图表
- 支持任务提醒功能
- 增加数据分析报告生成

### 9.2 体验优化
- 优化大数据量加载性能
- 增加更多主题选择
- 支持自定义时间格式
- 增加手势操作支持

### 9.3 平台扩展
- 考虑开发Web版本
- 支持数据同步到云端
- 增加数据导出格式（Excel、JSON等）

## 十、合规说明

### 10.1 隐私保护
- 所有数据存储在用户本地设备
- 不上传任何用户数据到服务器
- 严格遵守微信小程序隐私规范

### 10.2 功能说明
- 本小程序为个人工具类应用
- 不涉及社交、支付、内容发布等敏感功能
- 不收集用户个人信息
- 不需要用户授权敏感权限

### 10.3 服务范围
- 适用于个人时间管理和任务记录
- 不涉及商业交易
- 不涉及用户生成内容发布
- 纯工具类应用

## 十一、总结

**Time流水账**是一款专注于个人时间记录和任务管理的微信小程序，通过简洁的界面、完整的功能和良好的用户体验，帮助用户更好地管理时间、追踪任务、进行工作复盘。产品采用成熟的技术架构，注重代码质量和用户体验，严格遵守微信小程序开发规范，适合作为个人效率工具使用。

---

**开发者承诺**：本小程序严格遵守微信小程序平台规范，保护用户隐私，提供优质的使用体验。
